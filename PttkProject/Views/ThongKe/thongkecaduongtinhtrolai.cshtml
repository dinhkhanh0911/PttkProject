
@{
    ViewBag.Title = "thongkecaduongtinhtrolai";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script>

    $(document).ready(function () {
        $('#datatable').DataTable({
            "language": {
                "search": "Tìm kiếm",
                "lengthMenu": "Hiển thị _MENU_ bản ghi trên 1 trang",
                "zeroRecords": "Không tìm thấy dữ liệu",
                "info": "Hiển thị _PAGE_ trên _PAGES_",
                "infoEmpty": "Không có dữ liệu tương ứng",
                "infoFiltered": "(Tìm từ _MAX_ bản ghi)",
                "paginate": {
                    "first": "Đầu",
                    "last": "Cuối",
                    "next": "Sau",
                    "previous": "Trước"
                },
            },
            $.ajax({
                type: "POST",
                url: "/ThongKe/thongKeCaDuongTinhTroLai",
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: OnSuccess,
                failure: function (response) {
                    alert(response.d);
                },
                error: function (response) {
                    alert(response.d);
                }                
            });
            columns:
                [
                    { 'data': 'ID' },
                    { 'data': 'ten' },
                    { 'data': 'ngaySinh' },
                    { 'data': 'CMND' },
                    { 'data': 'gioiTinh' },
                    { 'data': 'sdtBenhNhan' },
                    { 'data': 'maBHYT'}
            ]
            
        });

    });
</script>
<script>
    //đồ thị
    $(document).ready(function () {
        const labels = [
            'Tháng 1',
            'Tháng 2',
            'Tháng 3',
            'Tháng 4',
            'Tháng 5',
            'Tháng 6',
        ];
        const data = {
            labels: labels,
            datasets: [{
                label: 'My First dataset',
                backgroundColor: '#17a2b8',
                borderColor: 'rgb(255, 99, 132)',
                data: [29128, 15812, 4939, 30905, 16612, 52459, 37734],
            }]
        };
        const config = {
            type: 'bar',
            data: data,
            options: {},

        };
        const myChart = new Chart(
            document.getElementById('myChart'),
            config
        );
    });

</script>

<!--Chart-->
<div class="container-content">
    <h1>
        THỐNG KÊ CA DƯƠNG TÍNH TRỞ LẠI
    </h1>

    <div class="container-fluid">
        <div class="card">

            <div class="row">
                <div class="col-sm-8">
                    <canvas id="myChart" width="100%"></canvas>
                </div>
                <div class="col-sm-4">
                    @using (Html.BeginForm("thongKeCaDuongTinhTroLai", "ThongKe", FormMethod.Post))
                    {                       
                        <button class="btn btn-outline-success" type="submit">Hiển thị</button>
                    }
                </div>
            </div>

        </div>
    </div>
    <!-- /.chat-->
    <!--Datatable-->
    <div class="container-fluid">
        <table id="datatable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Họ tên</th>
                    <th>Ngày sinh</th>
                    <th>Số CMND</th>
                    <th>Giới tính</th>
                    <th>Số điện thoại</th>
                    <th>Mã BHYT</th>
                </tr>
            </thead>
            <tbody id="tbody_thongke">
                <tr>
                    <td>STT</td>
                    <td>STT</td>
                    <td>STT</td>
                    <td>STT</td>
                    <td>STT</td>
                    <td>STT</td>
                    <td>STT</td>
                </tr>
            </tbody>
            <tfoot>

            </tfoot>
        </table>
    </div>
</div>
